<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Skybox Module 1 | CHEAP ASSIST</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet">
    <style>
        .simulation-container {
            position: relative;
            display: inline-block; 
            margin: 40px auto;
            width: 150%;        
            max-width: 1600px;  
            left: -25%;         
        }

        .skybox-bg {
            display: block;
            width: 100%;
            height: auto;
            border-radius: 8px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            transition: opacity 0.4s ease;
        }

        .email-overlay {
            position: absolute;
            top: 23.6%;
            left: 43.1%;
            width: 12.6%;
            height: 2.4%;
            border: none;             
            background: transparent;  
            font-size: 60%; 
            font-weight: bold;
            padding: 0 0.5%;
            outline: none;            
            box-sizing: border-box;
            color: #333;              
        }

        .next-hitbox {
            position: absolute;
            top: 25.8%;
            left: 52.6%;
            width: 3.2%;
            height: 4.8%;
            cursor: pointer;
            background: rgba(0, 0, 0, 0); 
        }

        .module-detail-container {
            overflow-x: hidden; 
            text-align: center;
        }

        .guide-text {
            background: #fdf6e3;
            padding: 15px 25px;
            font-size: 1.1rem;
            border-radius: 8px;
            margin-bottom: 20px;
            border: 1px solid #eee8d5;
            display: inline-block;
            min-width: 500px;
        }

        /* Navigation Buttons */
        .btn-group {
            margin-top: 20px;
            padding-bottom: 80px;
        }

        .nav-action-btn {
            display: inline-block;
            padding: 12px 25px;
            margin: 0 10px;
            border-radius: 5px;
            font-weight: bold;
            font-size: 1.2rem;
            cursor: pointer;
            text-decoration: none;
            border: none;
            transition: 0.3s;
        }

        .btn-next { background-color: #28a745; color: white; }
        .btn-back { background-color: #6c757d; color: white; }
        .btn-finish { background-color: #007bff; color: white; }

        .nav-action-btn:hover { opacity: 0.8; }
    </style>
</head>
<body>

    <nav class="navbar">
        <a href="index.html" class="logo">CA</a>
        <ul class="nav-links">
            <li><a href="skybox.html">← Back to Dashboard</a></li>
        </ul>
    </nav>

    <main class="module-detail-container">
        <div class="module-header" style="margin-top: 50px;">
            <h1>Module 1: Skybox Login</h1>
            <p><strong>Step-by-Step Practical</strong></p>
        </div>

        <div class="guide-text" id="instruction">
            <strong>Instruction:</strong> Type <strong>cheapasstist@ca.com</strong> and click <strong>NEXT</strong>.
        </div>

        <div class="simulation-container">
            <img src="skybox-1_login_screen.png" id="main-screenshot" alt="Skybox Screen" class="skybox-bg">
            <input type="email" id="sim-email" class="email-overlay">
            <div id="hitbox" class="next-hitbox" onclick="goToStep2()"></div>
        </div>

        <div class="btn-group">
            <a href="skybox.html" class="nav-action-btn btn-back" style="background-color: #f1f1f1; color: #333; border: 1px solid #ccc;">⌂ Back to Modules</a>
            <button id="back-btn" class="nav-action-btn btn-back" style="display:none;" onclick="goBack()">← Back</button>
            
            <button id="to-email-btn" class="nav-action-btn btn-next" style="display:none;" onclick="goToStep3()">Next: Check Email →</button>
            
            <a href="skybox-m2.html" id="to-m2-link" class="nav-action-btn btn-finish" style="display:none;">Open Module 2 →</a>
        </div>
    </main>

    <script>
        let currentStep = 1;

        function goToStep2() {
            const emailValue = document.getElementById('sim-email').value;
            if (emailValue.toLowerCase() === 'cheapasstist@ca.com') {
                updateUI(2, "skybox-2_login_screen.png", "<strong>Step 2:</strong> Confirmation sent. Check your inbox for the login link.");
            } else {
                alert("Incorrect. Please type: cheapasstist@ca.com");
            }
        }

        function goToStep3() {
            updateUI(3, "skybox_email_prompt.png", "<strong>Step 3:</strong> This is the Skybox email. Click the link inside to enter the system.");
        }

        function goBack() {
            if (currentStep === 2) {
                updateUI(1, "skybox-1_login_screen.png", "<strong>Instruction:</strong> Type <strong>cheapasstist@ca.com</strong> and click <strong>NEXT</strong>.");
            } else if (currentStep === 3) {
                updateUI(2, "skybox-2_login_screen.png", "<strong>Step 2:</strong> Confirmation sent. Check your inbox for the login link.");
            }
        }

        function updateUI(step, imgSrc, text) {
            currentStep = step;
            const mainImg = document.getElementById('main-screenshot');
            const emailInput = document.getElementById('sim-email');
            const hitbox = document.getElementById('hitbox');
            
            // Image Transition
            mainImg.style.opacity = "0";
            setTimeout(() => {
                mainImg.src = imgSrc;
                mainImg.style.opacity = "1";
            }, 300);

            // Text Update
            document.getElementById('instruction').innerHTML = text;

            // Button Visibility Logic
            emailInput.style.display = (step === 1) ? "block" : "none";
            hitbox.style.display = (step === 1) ? "block" : "none";
            document.getElementById('back-btn').style.display = (step > 1) ? "inline-block" : "none";
            document.getElementById('to-email-btn').style.display = (step === 2) ? "inline-block" : "none";
            document.getElementById('to-m2-link').style.display = (step === 3) ? "inline-block" : "none";
        }
    </script>
</body>
</html>